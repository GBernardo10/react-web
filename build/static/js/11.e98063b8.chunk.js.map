{"version":3,"sources":["layouts/Login/index.js"],"names":["useForm","register","handleSubmit","errors","useState","toPerfil","setToPerfil","error","setError","className","to","localStorage","getItem","onSubmit","data","api","post","then","resp","status","login","token","setItem","apelido","catch","err","type","name","id","ref","required","htmlFor","senha","disabled","href"],"mappings":"kMAUe,qBAAO,IAAD,EACwBA,cAAnCC,EADW,EACXA,SAAUC,EADC,EACDA,aAAcC,EADb,EACaA,OADb,EAEaC,oBAAS,GAFtB,mBAEZC,EAFY,KAEFC,EAFE,OAGOF,mBAAS,IAHhB,mBAGZG,EAHY,KAGLC,EAHK,KAiBnB,OACM,kBAAC,YAAD,KACI,yBAAKC,UAAU,aACVJ,EACG,kBAAC,IAAD,CACEK,GAAE,kBAAaC,aAAaC,QAAQ,cAEtC,KACJ,kBAAC,OAAD,KACI,wBAAIH,UAAU,gBAAd,+BAGA,yBAAKA,UAAU,OACX,yBAAKA,UAAU,WACX,0BAAMI,SAAUX,GA3BzB,SAACY,GAChBC,IAAIC,KAAK,oBAAqBF,GAC3BG,MAAK,SAACC,GACe,MAAhBA,EAAKC,SACPC,YAAMF,EAAKJ,KAAKO,OAChBV,aAAaW,QAAQ,UAAWR,EAAKS,SACrCjB,GAAY,OAGfkB,OAAM,SAACC,GACNjB,EAAS,wCAkBe,yBAAKC,UAAU,QACf,yBAAKA,UAAU,OACX,yBAAKA,UAAU,uBACX,uBAAGA,UAAU,yBAAb,kBAGA,2BACEA,UAAU,WACViB,KAAK,OACLC,KAAK,UACLC,GAAG,UACHC,IAAK5B,EAAS,CAAE6B,UAAU,MAE5B,2BAAOC,QAAQ,WAAf,sBAGC5B,EAAOoB,SACJ,2EAOZ,yBAAKd,UAAU,OACX,yBAAKA,UAAU,uBACX,uBAAGA,UAAU,yBAAb,QAGA,2BACEA,UAAU,WACViB,KAAK,WACLC,KAAK,QACLC,GAAG,QACHC,IAAK5B,EAAS,CAAE6B,UAAU,MAE5B,2BAAOC,QAAQ,SAAf,oBAGC5B,EAAO6B,OACJ,mEAMZ,yBAAKvB,UAAU,OACX,yBAAKA,UAAU,2CACX,2BACEiB,KAAK,WACLE,GAAG,gBAEL,2BAAOG,QAAQ,eAAf,oBAKR,yBAAKtB,UAAU,OACX,yBAAKA,UAAU,uBACX,4BACEwB,SACM9B,EAAOoB,SAAWpB,EAAO6B,MAE/BN,KAAK,SACLC,KAAK,YACLlB,UAAU,6CANZ,YAWJ,yBAAKA,UAAU,OACX,yBAAKA,UAAU,4BACVF,GACG,uBAAGE,UAAU,uBACRF,MAMrB,yBAAKE,UAAU,OACX,yBAAKA,UAAU,4BACX,uBAAGA,UAAU,uBACT,kBAAC,IAAD,CAASC,GAAG,aAAZ,+CAMR,yBAAKD,UAAU,4BACX,uBAAGA,UAAU,mCACT,uBAAGyB,KAAK,KAAR","file":"static/js/11.e98063b8.chunk.js","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable jsx-a11y/label-has-associated-control */\n/* eslint-disable react/style-prop-object */\nimport React, { useState } from \"react\";\nimport { NavLink, Redirect } from \"react-router-dom\";\nimport { Card, Container } from \"react-materialize\";\nimport useForm from \"react-hook-form\";\nimport { api } from \"../../services\";\nimport { login } from \"../../services/auth\";\n\nexport default () => {\n  const { register, handleSubmit, errors } = useForm();\n  const [toPerfil, setToPerfil] = useState(false);\n  const [error, setError] = useState(\"\");\n  const onSubmit = (data) => {\n    api.post(\"auth/v1/api/login\", data)\n      .then((resp) => {\n        if (resp.status === 200) {\n          login(resp.data.token);\n          localStorage.setItem(\"apelido\", data.apelido);\n          setToPerfil(true);\n        }\n      })\n      .catch((err) => {\n        setError(\"Usuario e/ou senha incorretos\");\n      });\n  };\n  return (\n        <Container>\n            <div className=\"container\">\n                {toPerfil ? (\n                    <Redirect\n                      to={`/perfil/${localStorage.getItem(\"apelido\")}`}\n                    />\n                ) : null}\n                <Card>\n                    <h4 className=\"center-align\">\n                        Bem vindo, acesse sua conta\n                    </h4>\n                    <div className=\"row\">\n                        <div className=\"col s12\">\n                            <form onSubmit={handleSubmit(onSubmit)}>\n                                <div className=\"row\" />\n                                <div className=\"row\">\n                                    <div className=\"input-field col s12\">\n                                        <i className=\"material-icons prefix\">\n                                            account_circle\n                                        </i>\n                                        <input\n                                          className=\"validate\"\n                                          type=\"text\"\n                                          name=\"apelido\"\n                                          id=\"apelido\"\n                                          ref={register({ required: true })}\n                                        />\n                                        <label htmlFor=\"apelido\">\n                                            Digite seu apelido\n                                        </label>\n                                        {errors.apelido && (\n                                            <small>\n                                                Esqueceram de mim, fala ai seu\n                                                apelido\n                                            </small>\n                                        )}\n                                    </div>\n                                </div>\n                                <div className=\"row\">\n                                    <div className=\"input-field col s12\">\n                                        <i className=\"material-icons prefix\">\n                                            lock\n                                        </i>\n                                        <input\n                                          className=\"validate\"\n                                          type=\"password\"\n                                          name=\"senha\"\n                                          id=\"senha\"\n                                          ref={register({ required: true })}\n                                        />\n                                        <label htmlFor=\"senha\">\n                                            Digite sua senha\n                                        </label>\n                                        {errors.senha && (\n                                            <small>\n                                                Acho que esta faltando a senha\n                                            </small>\n                                        )}\n                                    </div>\n                                </div>\n                                <div className=\"row\">\n                                    <div className=\"input-field col s12 m12 l12  login-text\">\n                                        <input\n                                          type=\"checkbox\"\n                                          id=\"remember-me\"\n                                        />\n                                        <label htmlFor=\"remember-me\">\n                                            Lembrar de mim\n                                        </label>\n                                    </div>\n                                </div>\n                                <div className=\"row\">\n                                    <div className=\"input-field col s12\">\n                                        <button\n                                          disabled={\n                                                errors.apelido || errors.senha\n                                            }\n                                          type=\"submit\"\n                                          name=\"btn_login\"\n                                          className=\"col s12 btn btn-large waves-effect indigo\"\n                                        >\n                                            Acessar\n                                        </button>\n                                    </div>\n                                    <div className=\"row\">\n                                        <div className=\"input-field col s6 m6 l6\">\n                                            {error && (\n                                                <p className=\"margin medium-small\">\n                                                    {error}\n                                                </p>\n                                            )}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"row\">\n                                    <div className=\"input-field col s6 m6 l6\">\n                                        <p className=\"margin medium-small\">\n                                            <NavLink to=\"/cadastro\">\n                                                Não tem conta? Crie agora é\n                                                gratis!\n                                            </NavLink>\n                                        </p>\n                                    </div>\n                                    <div className=\"input-field col s6 m6 l6\">\n                                        <p className=\"margin right-align medium-small\">\n                                            <a href=\"#\">Esqueceu a senha?</a>\n                                        </p>\n                                    </div>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </Card>\n            </div>\n        </Container>\n  );\n};\n"],"sourceRoot":""}